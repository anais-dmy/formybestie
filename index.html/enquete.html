<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>MystÃ¨re au Grand HÃ´tel</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    color: #fff; /* Texte gÃ©nÃ©ral blanc */
    background-image: url('crime_scene.jpg'); /* Image de fond sombre ambiance scÃ¨ne de crime */
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }

  /* Voile sombre global pour lisibilitÃ© */
  body::before {
    content: "";
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.9)); /* dÃ©gradÃ© sombre du haut vers le bas */
    z-index: -1;
  }

  h1 { text-align: center; }

  /* Conteneurs semi-transparents pour lisibilitÃ© */
  #indice, #options, #historique, h4 {
    background: rgba(0,0,0,0.7);
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.5);
  }

  #indice img { max-width: 100%; border-radius: 5px; display: block; margin-bottom: 15px; }
  .option { display: block; margin: 5px 0; }
  button {
    padding: 8px 12px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    background: #fff; /* boutons blancs */
    color: #000;      /* texte noir */
  }
  button:hover { background: #ddd; } /* lÃ©ger hover pour feedback */
  #erreurs { margin-top: 10px; font-weight: bold; color: #fff; } /* erreurs en blanc */
</style>
</head>
<body>

<h1>ğŸ•µï¸â€â™‚ï¸ MystÃ¨re au Grand HÃ´tel</h1>
<h3>Un client Ã  disparu dans la nuit du 18 fÃ©vrier 2026 au Grand HÃ´tel, en tant que dÃ©tective privÃ©e reconnue pour sa rapiditÃ© Ã  rÃ©soudre les affaires et sa logique Ã  toutes Ã©preuves. La police fait appel Ã  tes service pour les accompagner dans l'enquÃªte.<br>Saura-tu les aider ?ğŸ”</h3>
<p>Un jeu fait avec amour par moi-mÃªmeğŸ«†<p>

<div id="indice"></div>
<div id="options"></div>
<div id="erreurs"></div>
<div id="historique"></div>

<script>
let indices = [];
let erreurs = 0;
const MAX_ERREURS = 5;

const suspects = ["le serveur", "le concierge", "le jardinier"];
const coupable = suspects[Math.floor(Math.random()*suspects.length)];

// Liste des Ã©tapes avec images
const etapes = [
  {indice: "Le client n'est jamais arrivÃ© Ã  sa rÃ©union. Sa chambre est vide, mais un mot est posÃ© sur le bureau : 'Je savais que tu viendrais.' Qui a pu le dÃ©poser ?",
   img: "chambre.jpg",
   options: {"A": "Le client lui-mÃªme", "B": "Un employÃ© de l'hÃ´tel", "C": "Un inconnu"},
   bonne: "B"},
  {indice: "Le serveur se rappelle que le client a reÃ§u un appel mystÃ©rieux lorsqu'il est descendu au restaurant de l'hotel pour commander son diner Ã  apporter dans sa chambre. Mais il n'a pas entendu la discussion, il a juste vu l'air dubitatif du client",
   img: "telephone.jpg",
   options: {"A": "Ce n'Ã©tait rien d'intÃ©ressant pour l'enquÃªte", "B": "Le serveur a mal interprÃ©tÃ© la scÃ¨ne", "C": "Il faut identifier l'appelant"},
   bonne: "C"},
  {indice: `Une silhouette entre par la porte de service. Selon les horaires, cela pourrait Ãªtre ${suspects.join(", ")}.`,
   img: "porte_service.jpg",
   options: {"A": "Ignorer la silhouette, c'Ã©tait surement un autre client", "B": "Examiner les horaires du personnel", "C": "Attendre le lendemain pour interroger chaque personne"},
   bonne: "B"},
  {indice: "La chambre du client a un accÃ¨s au jardin, nous voyons des traces de pas qui mÃ¨nent vers un sac lourd dissimulÃ©, mais la sortie est condamnÃ©e.",
   img: "jardin.jpg",
   options: {"A": "Chercher un passage secret", "B": "Interroger le jardinier", "C": "Le sac n'a rien Ã  voir avec l'enquÃªte"},
   bonne: "A"},
  {indice: "Un tÃ©moin affirme avoir entendu des bruits suspects venant de la salle de stockage.",
   img: "stockage.jpg",
   options: {"A": "Chercher dans la salle de stockage", "B": "C'Ã©tait un employÃ©, laissons cette piste de cÃ´tÃ©"},
   bonne: "A"},
  {indice: "La clÃ© de la suite du client est manquante dans le trousseau de la rÃ©ception. Quelqu'un a pu s'introduire dans la chambre.",
   img: "cle.jpg",
   options: {"A": "VÃ©rifier qui a eu accÃ¨s Ã  la clÃ©", "B": "Interroger le concierge de l'hÃ´tel", "C": "Demander aux voisins s'ils ont vu quelqu'un."},
   bonne: "A"},
  {indice: `Un autre client affirme avoir vu un homme ressemblant Ã  l'associÃ© du disparu entrer dans l'hÃ´tel la nuit derniÃ¨re. Il n'est pas sur de lui et avait bu au bar car il s'est disputÃ© avec sa femme.`,
   img: "tÃ©moin.jpg",
   options: {"A": "C'est une coÃ¯ncidence, il a pu vouloir prendre une chambre lui aussi", "B": "Interroger l'associÃ©, il peut Ãªtre un suspect", "C": "Ignorer le tÃ©moin"},
   bonne: "B"},
  {indice: "Nous avons retrouvÃ© des documents dans le coffre fort de la suite qui montrent un mobile financier important liÃ© Ã  l'associÃ©.",
   img: "documents.jpg",
   options: {"A": "Accuser immÃ©diatement l'associÃ©", "B": "Rassembler plus de preuves", "C": "Ne pas tenir compte des documents, nous ne savons pas s'ils sont authentiques"},
   bonne: "B"},
  {indice: "Vous trouvez une piÃ¨ce cachÃ©e oÃ¹ le client pourrait Ãªtre retenu, mais la porte est verrouillÃ©e.",
   img: "piece_cachee.jpg",
   options: {"A": "Forcer la porte, nous ne pouvons pas attendre", "B": "Chercher un autre accÃ¨s, il y a peut Ãªtre une issue cachÃ©e", "C": "Appeler la police, il nous faudra du renfort"},
   bonne: "B"},
  {indice: `AprÃ¨s avoir pÃ©nÃ©trÃ© dans la piÃ¨ce cachÃ©e, vous retrouvez le client sain et sauf. Le coupable est lÃ , mais qui est-il ?`,
   img: "client.jpg",
   options: {"A": "Le jardinier, qui se serait introduit par le jardin", "B": "L'associÃ©, ayant des conflits financier avec la victime", "C": "Le serveur, qui a apporter le diner en chambre", "D": "Le. concierge, qui a accÃ¨s aux clÃ©s"},
   bonne: "B"}
];

let etapeActuelle = 0;

function afficherEtape() {
  if (etapeActuelle >= etapes.length) {
    if(erreurs >= MAX_ERREURS) finPiege();
    else if(erreurs <= 2 && indices.length >= 9) finParfaite();
    else finNormale();
    return;
  }

  const etape = etapes[etapeActuelle];
  document.getElementById("indice").innerHTML = `
    ${etape.img ? `<img src="${etape.img}" alt="Image indice"><br>` : ""}
    <strong>Indice :</strong> ${etape.indice}
  `;
  
  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";
  for (let key in etape.options) {
    const btn = document.createElement("button");
    btn.textContent = `${key}: ${etape.options[key]}`;
    btn.classList.add("option");
    btn.onclick = () => verifierReponse(key);
    optionsDiv.appendChild(btn);
  }

  document.getElementById("erreurs").innerHTML = `Erreurs : ${erreurs}/${MAX_ERREURS}`;
  afficherHistorique();
}

function verifierReponse(choix) {
  const etape = etapes[etapeActuelle];
  if (choix === etape.bonne) {
    alert("âœ… Bonne rÃ©ponse ! Indice dÃ©bloquÃ©.");
    indices.push(etape.indice);
    etapeActuelle++;
    afficherEtape();
  } else {
    erreurs++;
    alert(`âŒ Mauvaise rÃ©ponse ! Erreurs : ${erreurs}/${MAX_ERREURS}`);
    if(erreurs >= MAX_ERREURS) finPiege();
    else afficherEtape();
  }
}

function afficherHistorique() {
  const histDiv = document.getElementById("historique");
  if(indices.length === 0) {
    histDiv.innerHTML = "<strong>Historique des indices :</strong> Aucun pour l'instant.";
  } else {
    histDiv.innerHTML = "<strong>Historique des indices :</strong><ul>" +
      indices.map(i => `<li>${i}</li>`).join("") +
      "</ul>";
  }
}

function finParfaite() {
  alert(`ğŸ‰ FIN PARFAITE ğŸ‰\nFÃ©licitation, tous les indices ont Ã©tÃ© trouvÃ©s et le coupable, l'associÃ©, a Ã©tÃ© arrÃªtÃ© rapidement. GrÃ¢ce Ã  vous le client va bien, il va pouvoir rentrer chez lui auprÃ¨s de sa familleğŸ‘« Vous avez Ã©tÃ© une super dÃ©tectiveğŸ•µï¸â€â™€ï¸`);
  document.getElementById("indice").innerHTML = "ğŸ‰ Vous avez rÃ©solu le mystÃ¨re avec brio ! ğŸ‰";
  document.getElementById("options").innerHTML = "";
}

function finNormale() {
  alert(`âš–ï¸ FIN NORMALE âš–ï¸\nLe client est sain et sauf, mais certaines preuves manquent. Le coupable, l'associÃ©, n'est pas complÃ¨tement exposÃ©. Vous devrez Ãªtre plus vigilant lors de votre prochaine enquÃªteğŸ§`);
  document.getElementById("indice").innerHTML = "âš–ï¸ L'enquÃªte est rÃ©solue, mais pas parfaitement.";
  document.getElementById("options").innerHTML = "";
}

function finPiege() {
  alert(`ğŸ’€ FIN PIÃˆGE ğŸ’€\nTrop d'erreurs ont Ã©tÃ© commises. L'enquÃªte est compromise, le client reste introuvable ou le coupable s'est Ã©chappÃ©. L'enquÃªte est transmise Ã  un autre enquÃªteur... Nous espÃ©rons faire appel Ã  vous une prochaine foisğŸ‘©â€âœˆï¸`);
  document.getElementById("indice").innerHTML = "ğŸ’€ L'enquÃªte est compromise ! ğŸ’€";
  document.getElementById("options").innerHTML = "";
}

afficherEtape();
</script>

</body>
</html>
